global_data$dworth <- ifelse(is.na(global_data$q0080_0003),ifelse(is.na(global_data$q0134_0003),global_data$q0187_0003,global_data$q0134_0003),global_data$q0080_0003)
global_data$dworth[is.na(global_data$dworth)] <- 0
global_data$dhope <- ifelse(is.na(global_data$q0080_0004),ifelse(is.na(global_data$q0134_0004),global_data$q0187_0004,global_data$q0134_0004),global_data$q0080_0004)
global_data$dhope[is.na(global_data$dhope)] <- 0
global_data$dtrust <- ifelse(is.na(global_data$q0080_0005),ifelse(is.na(global_data$q0134_0005),global_data$q0187_0005,global_data$q0134_0005),global_data$q0080_0005)
global_data$dtrust[is.na(global_data$dtrust)] <- 0
global_data$dold <- ifelse(is.na(global_data$q0080_0006),ifelse(is.na(global_data$q0134_0006),global_data$q0187_0006,global_data$q0134_0006),global_data$q0080_0006)
global_data$dold[is.na(global_data$dold)] <- 0
global_data$dHAold <- ifelse(is.na(global_data$q0080_0007),ifelse(is.na(global_data$q0134_0007),global_data$q0187_0007,global_data$q0134_0007),global_data$q0080_0007)
global_data$dHAold[is.na(global_data$dHAold)] <- 0
global_data$dstigma <- ifelse(is.na(global_data$q0080_0008),ifelse(is.na(global_data$q0134_0008),global_data$q0187_0008,global_data$q0134_0008),global_data$q0080_0008)
global_data$dstigma[is.na(global_data$dstigma)] <- 0
global_data$dtime <- ifelse(is.na(global_data$q0080_0009),ifelse(is.na(global_data$q0134_0009),global_data$q0187_0009,global_data$q0134_0009),global_data$q0080_0009)
global_data$dtime[is.na(global_data$dtime)] <- 0
global_data$dbad <- ifelse(is.na(global_data$q0080_0010),ifelse(is.na(global_data$q0134_0010),global_data$q0187_0010,global_data$q0134_0010),global_data$q0080_0010)
global_data$dbad[is.na(global_data$dbad)] <- 0
global_data$dpressure <- ifelse(is.na(global_data$q0080_0011),ifelse(is.na(global_data$q0134_0011),global_data$q0187_0011,global_data$q0134_0011),global_data$q0080_0011)
global_data$dpressure[is.na(global_data$dpressure)] <- 0
US_data$didk <- ifelse(is.na(US_data$q0080_0012),ifelse(is.na(US_data$q0134_0012),US_data$q0187_0012,US_data$q0134_0012),US_data$q0080_0012)
US_data$didk[is.na(US_data$didk)] <- 0
#looking at q0041: Where would you prefer to get information about hearing health care? Check all that apply. Making it so we pick up yes/no responses
global_data$Q41_1 <- global_data$q0041_0001
global_data$Q41_1[is.na(global_data$Q41_1)] <- 0
#Making Labels for Q41_1 table
tableQ41_1 <- table(global_data$Q41_1,global_data$hcat)
tableQ41_1 <- as.matrix(tableQ41_1)
row.names(tableQ41_1)<-c('Did Not Select','Selected')
colnames(tableQ41_1) <-c('Normal','Mild','Moderate','Severe')
# #BarPlots
# barplot(tableQ41_1, main="Doctor",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_2 <- global_data$q0041_0002
global_data$Q41_2[is.na(global_data$Q41_2)] <- 0
# #Making Labels for Q41_2 table
tableQ41_2 <- table(global_data$Q41_2,global_data$hcat)
tableQ41_2 <- as.matrix(tableQ41_2)
row.names(tableQ41_2)<-c('Did Not Select','Selected')
colnames(tableQ41_2) <-c('Normal','Mild','Moderate','Severe')
# #BarPlots
# barplot(tableQ41_2, main="Pamphlets in Doctor's Office (or other HCP)",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
#
global_data$Q41_3 <- global_data$q0041_0003
global_data$Q41_3[is.na(global_data$Q41_3)] <- 0
# #Making Labels for Q41_3 table
tableQ41_3 <- table(global_data$Q41_3,global_data$hcat)
tableQ41_3 <- as.matrix(tableQ41_3)
row.names(tableQ41_3)<-c('Did Not Select','Selected')
colnames(tableQ41_3) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_3, main="Radio Ads",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_4 <- global_data$q0041_0004
global_data$Q41_4[is.na(global_data$Q41_4)] <- 0
# #Making Labels for Q41_4 table
tableQ41_4 <- table(global_data$Q41_4,global_data$hcat)
tableQ41_4 <- as.matrix(tableQ41_4)
row.names(tableQ41_4)<-c('Did Not Select','Selected')
colnames(tableQ41_4) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_4, main="Newspaper",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_5 <- global_data$q0041_0005
global_data$Q41_5[is.na(global_data$Q41_5)] <- 0
# #Making Labels for Q41_5 table
tableQ41_5 <- table(global_data$Q41_5,global_data$hcat)
tableQ41_5 <- as.matrix(tableQ41_5)
row.names(tableQ41_5)<-c('Did Not Select','Selected')
colnames(tableQ41_5) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_5, main="Pamphlets that come to you in the mail",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_6 <- global_data$q0041_0006
global_data$Q41_6[is.na(global_data$Q41_6)] <- 0
# #Making Labels for Q41_6 table
tableQ41_6 <- table(global_data$Q41_6,global_data$hcat)
tableQ41_6 <- as.matrix(tableQ41_6)
row.names(tableQ41_6)<-c('Did Not Select','Selected')
colnames(tableQ41_6) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_6, main="TV Ads",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_7 <- global_data$q0041_0007
global_data$Q41_7[is.na(global_data$Q41_7)] <- 0
# #Making Labels for Q41_7 table
tableQ41_7 <- table(global_data$Q41_7,global_data$hcat)
tableQ41_7 <- as.matrix(tableQ41_7)
row.names(tableQ41_7)<-c('Did Not Select','Selected')
colnames(tableQ41_7) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_7, main="University Websites on the Internet",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_8 <- global_data$q0041_0008
global_data$Q41_8[is.na(global_data$Q41_8)] <- 0
# #Making Labels for Q41_8 table
tableQ41_8 <- table(global_data$Q41_8,global_data$hcat)
tableQ41_8 <- as.matrix(tableQ41_8)
row.names(tableQ41_8)<-c('Did Not Select','Selected')
colnames(tableQ41_8) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_8, main="Advertisements on the Internet",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_9 <- global_data$q0041_0009
global_data$Q41_9[is.na(global_data$Q41_9)] <- 0
# #Making Labels for Q41_9 table
tableQ41_9 <- table(global_data$Q41_9,global_data$hcat)
tableQ41_9 <- as.matrix(tableQ41_9)
row.names(tableQ41_9)<-c('Did Not Select','Selected')
colnames(tableQ41_9) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_9, main="Government Websites on the Internet",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
#
global_data$Q41_10 <- global_data$q0041_0010
global_data$Q41_10[is.na(global_data$Q41_10)] <- 0
# #Making Labels for Q41_10 table
tableQ41_10 <- table(global_data$Q41_10,global_data$hcat)
tableQ41_10 <- as.matrix(tableQ41_10)
row.names(tableQ41_10)<-c('Did Not Select','Selected')
colnames(tableQ41_10) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_10, main="Medical Websites on the Internet",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
#
global_data$Q41_11 <- global_data$q0041_0011
global_data$Q41_11[is.na(global_data$Q41_11)] <- 0
# #Making Labels for Q41_11 table
tableQ41_11 <- table(global_data$Q41_11,global_data$hcat)
tableQ41_11 <- as.matrix(tableQ41_11)
row.names(tableQ41_11)<-c('Did Not Select','Selected')
colnames(tableQ41_11) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_11, main="Friends and Family",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_12 <- global_data$q0041_0012
global_data$Q41_12[is.na(global_data$Q41_12)] <- 0
# #Making Labels for Q41_12 table
tableQ41_12 <- table(global_data$Q41_12,global_data$hcat)
tableQ41_12 <- as.matrix(tableQ41_12)
row.names(tableQ41_12)<-c('Did Not Select','Selected')
colnames(tableQ41_12) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_12, main="Hearing Loss Associations/Charities",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_13 <- global_data$q0041_0013
global_data$Q41_13[is.na(global_data$Q41_13)] <- 0
# #Making Labels for Q41_13 table
tableQ41_13 <- table(global_data$Q41_13,global_data$hcat)
tableQ41_13 <- as.matrix(tableQ41_13)
row.names(tableQ41_13)<-c('Did Not Select','Selected')
colnames(tableQ41_13) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_13, main="Advertisements in Public Places",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
global_data$Q41_14 <- global_data$q0041_0014
global_data$Q41_14[is.na(global_data$Q41_14)] <- 0
# #Making Labels for Q41_14 table
tableQ41_14 <- table(global_data$Q41_14,global_data$hcat)
tableQ41_14 <- as.matrix(tableQ41_14)
row.names(tableQ41_14)<-c('Did Not Select','Selected')
colnames(tableQ41_14) <-c('Normal','Mild','Moderate','Severe')
# #BarPlot
# barplot(tableQ41_14, main="Public Libraries",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
# #makes a grid table
# grid.table(table(US_data$provider,US_data$hcat))
# (table(global_data$HAold,global_data$hcat))
#
# # Stacked Bar Plot with Colors and Legend (Copy and paste into console to have appear)
# barplot(tableQ41_14, main="Public Libraries",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14))
#
# # Grouped Bar Plot(Copy and paste into the Console to have appear)
# barplot(tableQ41_14, main="Public Libraries",
#         xlab="Categories of Hearing Loss", col=c("red","blue"),
#         ylim=c(0,1000),
#         ylab = "Number of Participants",
#         legend = rownames(tableQ41_14), beside=TRUE)
#
# # Percentage BarPlot Example
global_data$Q41_14[is.na(global_data$Q41_14)] <- 0
#Making Labels for Q41_14 table
tableQ41_14 <- table(global_data$Q41_14,global_data$hcat)
tableQ41_14 <- as.matrix(tableQ41_14)
row.names(tableQ41_14)<-c('Did Not Select','Selected')
colnames(tableQ41_14) <-c('Normal','Mild','Moderate','Severe')
#BarPlot
barplot(tableQ41_14, main="Public Libraries",
xlab="Categories of Hearing Loss", col=c("red","blue"),
ylim=c(0,1000),
ylab = "Number of Participants",
legend = rownames(tableQ41_14), beside=TRUE)
#2. Save "test" as a matrix (as.matrix(test))
test <- as.matrix(test)
#3. Select and assign row names
row.names(test)<-c('no','yes')
#4. Select and assign column names
colnames(test) <-c('normal','mild','mod','severe')
#5 Type "test" or grid.table(test) and it should all come together
grid.table(test)
test<-table(global_data$dpressure,global_data$hcat)
test <- as.matrix(test)
row.names(test)<-c('Did Not Select','Selected')
colnames(test) <-c('Normal','Mild','Moderate','Severe')
Q41 <- as.data.frame(table(global_data$Q41_1)[2])
Q41[2] <- table(global_data$Q41_2)[2]
Q41[3] <- table(global_data$Q41_3)[2]
Q41[4] <- table(global_data$Q41_4)[2]
Q41[5] <- table(global_data$Q41_5)[2]
Q41[6] <- table(global_data$Q41_6)[2]
Q41[7] <- table(global_data$Q41_7)[2]
Q41[8] <- table(global_data$Q41_8)[2]
Q41[9] <- table(global_data$Q41_9)[2]
Q41[10] <- table(global_data$Q41_10)[2]
Q41[11] <- table(global_data$Q41_11)[2]
Q41[12] <- table(global_data$Q41_12)[2]
Q41[13] <- table(global_data$Q41_13)[2]
Q41[14] <- table(global_data$Q41_14)[2]
Q41<-t(Q41)
Q41 <- as.data.frame(Q41)
Q41[,2] <- Q41
Q41[,1] <- c('Doctor','Pamphlets in HCP Office', 'Radio Ads', 'Newspaper', 'Mailed Pamphlets','TV Ads', 'University Websites', 'Internet Ads', 'Government Websites', 'Medical Websites', 'Friends and Family', 'Hearing Loss Associations_Charities', 'Ads in Public Places', 'Public Libraries')
names(Q41) <- c('Question','Responses')
Q41<-(Q41[order(-Q41$Responses),])
ggplot(data=Q41, aes(x=Question,y=Responses)) +
geom_bar(,stat="identity") +
coord_flip()+
ggtitle("Q41 Global In-Person Data") +
scale_x_discrete(   limits=rev(c(t(Q41[1]))))
data$Q41_1 <- data$q0041_0001
data$Q41_1[is.na(data$Q41_1)] <- 0
data$Q41_2 <- data$q0041_0002
data$Q41_2[is.na(data$Q41_2)] <- 0
data$Q41_3 <- data$q0041_0003
data$Q41_3[is.na(data$Q41_3)] <- 0
data$Q41_4 <- data$q0041_0004
data$Q41_4[is.na(data$Q41_4)] <- 0
data$Q41_5 <- data$q0041_0005
data$Q41_5[is.na(data$Q41_5)] <- 0
data$Q41_6 <- data$q0041_0006
data$Q41_6[is.na(data$Q41_6)] <- 0
data$Q41_7 <- data$q0041_0007
data$Q41_7[is.na(data$Q41_7)] <- 0
data$Q41_8 <- data$q0041_0008
data$Q41_8[is.na(data$Q41_8)] <- 0
data$Q41_9 <- data$q0041_0009
data$Q41_9[is.na(data$Q41_9)] <- 0
data$Q41_10 <- data$q0041_0010
data$Q41_10[is.na(data$Q41_10)] <- 0
data$Q41_11 <- data$q0041_0011
data$Q41_11[is.na(data$Q41_11)] <- 0
data$Q41_12 <- data$q0041_0012
data$Q41_12[is.na(data$Q41_12)] <- 0
data$Q41_13 <- data$q0041_0013
data$Q41_13[is.na(data$Q41_13)] <- 0
data$Q41_14 <- data$q0041_0014
data$Q41_14[is.na(data$Q41_14)] <- 0
return(data) }
US_data <- data_stratify(US_data)
UK_data <- data_stratify(UK_data)
CAN_data <- data_stratify(CAN_data)
AUS_data <- data_stratify(AUS_data)
data$Q41_1 <- data$q0041_0001
data$Q41_1[is.na(data$Q41_1)] <- 0
data$Q41_2 <- data$q0041_0002
data$Q41_2[is.na(data$Q41_2)] <- 0
data$Q41_3 <- data$q0041_0003
data$Q41_3[is.na(data$Q41_3)] <- 0
data$Q41_4 <- data$q0041_0004
data$Q41_4[is.na(data$Q41_4)] <- 0
data$Q41_5 <- data$q0041_0005
data$Q41_5[is.na(data$Q41_5)] <- 0
data$Q41_6 <- data$q0041_0006
data$Q41_6[is.na(data$Q41_6)] <- 0
data$Q41_7 <- data$q0041_0007
data$Q41_7[is.na(data$Q41_7)] <- 0
data$Q41_8 <- data$q0041_0008
data$Q41_8[is.na(data$Q41_8)] <- 0
data$Q41_9 <- data$q0041_0009
data$Q41_9[is.na(data$Q41_9)] <- 0
data$Q41_10 <- data$q0041_0010
data$Q41_10[is.na(data$Q41_10)] <- 0
data$Q41_11 <- data$q0041_0011
data$Q41_11[is.na(data$Q41_11)] <- 0
data$Q41_12 <- data$q0041_0012
data$Q41_12[is.na(data$Q41_12)] <- 0
data$Q41_13 <- data$q0041_0013
data$Q41_13[is.na(data$Q41_13)] <- 0
data$Q41_14 <- data$q0041_0014
data$Q41_14[is.na(data$Q41_14)] <- 0
return(data) }
data_stratify <- function(data){
data$Q41_1 <- data$q0041_0001
data$Q41_1[is.na(data$Q41_1)] <- 0
data$Q41_2 <- data$q0041_0002
data$Q41_2[is.na(data$Q41_2)] <- 0
data$Q41_3 <- data$q0041_0003
data$Q41_3[is.na(data$Q41_3)] <- 0
data$Q41_4 <- data$q0041_0004
data$Q41_4[is.na(data$Q41_4)] <- 0
data$Q41_5 <- data$q0041_0005
data$Q41_5[is.na(data$Q41_5)] <- 0
data$Q41_6 <- data$q0041_0006
data$Q41_6[is.na(data$Q41_6)] <- 0
data$Q41_7 <- data$q0041_0007
data$Q41_7[is.na(data$Q41_7)] <- 0
data$Q41_8 <- data$q0041_0008
data$Q41_8[is.na(data$Q41_8)] <- 0
data$Q41_9 <- data$q0041_0009
data$Q41_9[is.na(data$Q41_9)] <- 0
data$Q41_10 <- data$q0041_0010
data$Q41_10[is.na(data$Q41_10)] <- 0
data$Q41_11 <- data$q0041_0011
data$Q41_11[is.na(data$Q41_11)] <- 0
data$Q41_12 <- data$q0041_0012
data$Q41_12[is.na(data$Q41_12)] <- 0
data$Q41_13 <- data$q0041_0013
data$Q41_13[is.na(data$Q41_13)] <- 0
data$Q41_14 <- data$q0041_0014
data$Q41_14[is.na(data$Q41_14)] <- 0
return(data) }
US_data <- data_stratify(US_data)
UK_data <- data_stratify(UK_data)
CAN_data <- data_stratify(CAN_data)
AUS_data <- data_stratify(AUS_data)
Graph_Q41 <- function(data) {
Q41 <- as.data.frame(table(data$Q41_1)[2]/nrow(data)*100)
Q41[2] <- table(data$Q41_2)[2]/nrow(data)*100
Q41[3] <- table(data$Q41_3)[2]/nrow(data)*100
Q41[4] <- table(data$Q41_4)[2]/nrow(data)*100
Q41[5] <- table(data$Q41_5)[2]/nrow(data)*100
Q41[6] <- table(data$Q41_6)[2]/nrow(data)*100
Q41[7] <- table(data$Q41_7)[2]/nrow(data)*100
Q41[8] <- table(data$Q41_8)[2]/nrow(data)*100
Q41[9] <- table(data$Q41_9)[2]/nrow(data)*100
Q41[10] <- table(data$Q41_10)[2]/nrow(data)*100
Q41[11] <- table(data$Q41_11)[2]/nrow(data)*100
Q41[12] <- table(data$Q41_12)[2]/nrow(data)*100
Q41[13] <- table(data$Q41_13)[2]/nrow(data)*100
Q41[14] <- table(data$Q41_14)[2]/nrow(data)*100
Q41<-t(Q41)
Q41 <- as.data.frame(Q41)
Q41[,2] <- Q41
Q41[,1] <- c('Doctor','Pamphlets in HCP Office', 'Radio Ads', 'Newspaper', 'Mailed Pamphlets','TV Ads', 'University Websites', 'Internet Ads', 'Government Websites', 'Medical Websites', 'Friends and Family', 'Hearing Loss Associations/Charities', 'Ads in Public Places', 'Public Libraries')
names(Q41) <- c('Question','Responses')
Q41<-(Q41[order(-Q41$Responses),])
#Organizing Q41  In-Person Data into horizontal graph
Q41plot <- ggplot(data=Q41, aes(x=Question,y=Responses)) +
geom_bar(,stat="identity") +
coord_flip()+
scale_x_discrete(   limits=rev(c(t(Q41[1]))))+
scale_y_continuous (limits=c(0,100) )
return(Q41plot)
}
#Q41 Plotting individual countries
USQ41plot<-Graph_Q41(US_data)
USQ41plot + ggtitle("Q41 US In-Person Data")
USQ41plot +geom_text(aes(label=round(USQ41plot$data$Responses,2)),hjust=-.8)
UKQ41plot<-Graph_Q41(UK_data)
View(global_data)
UK_RN_data<- read.spss("C:/Users/mkeomec/Documents/Dropbox/eHearing manuscript/U.K. eHearing Study - Online Panel Survey.sav", to.data.frame=TRUE, use.value.labels=FALSE)
UK_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/U.K. eHearing Study - Online Panel Survey.sav", to.data.frame=TRUE, use.value.labels=FALSE)
UK_state_RN_data <- read.spss("C:/Users/mkeomec/eHearing manuscript/UK England Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
UK_state_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/UK England Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
London_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/UK London Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
AUS_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/2018 SPSS datasets/eHearing Study-Australia-Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
AUS_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study-Australia-Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
AUS_state_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - NSW - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#Ontario- Target 2000 respondents. Info on Toronto or other areas of Ontario
# Dataset omits location
CAN_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - CanadaPanel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
CAN_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - CanadaPanel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#CAN_state_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study of Alberta_BC_Quebec_Other_Canada_Panel - 2.sav", to.data.frame=TRUE,use.value.labels=FALSE)
CAN_state_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study of Alberta_BC_Quebec_Other_Canada_Panel - 2.sav", to.data.frame=TRUE,use.value.labels=FALSE)
UK_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/U.K. eHearing Study - Online Panel Survey.sav", to.data.frame=TRUE, use.value.labels=FALSE)
#UK_RN_data<- read.spss("D:/Dropbox/eHearing manuscript/U.K. eHearing Study - Online Panel Survey.sav", to.data.frame=TRUE, use.value.labels=FALSE)
test <- attr(UK_RN_data$q0001,'value.labels')
UK_RN_data$q0001 <- names(test)[UK_RN_data$q0001]
UK_RN_data$country_id <- 'UK'
UK_RN_data$region_id <- UK_RN_data$q0001
UK_state_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/UK England Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#UK_state_RN_data <- read.spss("D:/Dropbox/eHearing manuscript/UK England Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
test <- attr(UK_state_RN_data$q0001,'value.labels')
UK_state_RN_data$q0001 <- names(test)[UK_state_RN_data$q0001]
UK_state_RN_data$country_id <- 'UK'
UK_state_RN_data$region_id <- 'England'
UK_state_RN_data$state_id <- UK_state_RN_data$q0001
London_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/UK London Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#London_RN_data <- read.spss("D:/Dropbox/eHearing manuscript/UK London Online.sav", to.data.frame=TRUE,use.value.labels=FALSE)
test <- attr(London_RN_data$q0001,'value.labels')
London_RN_data$q0001 <- names(test)[London_RN_data$q0001]
London_RN_data$country_id <- 'UK'
UK_state_RN_data$region_id <- 'England'
London_RN_data$city_id <-London_RN_data$q0001
AUS_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study-Australia-Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#AUS_RN_data <- read.spss("D:/Dropbox/eHearing manuscript/eHearing Study-Australia-Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
test <- attr(AUS_RN_data$q0001,'value.labels')
AUS_RN_data$q0001 <- names(test)[AUS_RN_data$q0001]
AUS_RN_data$country_id <- 'AUS'
AUS_RN_data$state_id <- AUS_RN_data$q0001
AUS_state_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - NSW - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
#AUS_state_RN_data <- read.spss("D:/Dropbox/eHearing manuscript/eHearing Study - NSW - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
test <- attr(AUS_state_RN_data$q0001,'value.labels')
AUS_state_RN_data$q0001 <- names(test)[AUS_state_RN_data$q0001]
AUS_state_RN_data$country_id <- 'AUS'
AUS_state_RN_data$state_id <- 'NSW'
AUS_state_RN_data$city_id <- AUS_state_RN_data$q0001
AUS_state_RN_data$city_id[which(AUS_state_RN_data$city_id=='All other')] <- 'Other AUS NSW'
#Ontario- Target 2000 respondents. Info on Toronto or other areas of Ontario
# Dataset omits location
#CAN_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - CanadaPanel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
CAN_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - CanadaPanel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
CAN_RN_data$q0001_new <- NA
CAN_RN_data <- CAN_RN_data[,c(1:10,1522,11:1521)]
names(CAN_RN_data) <- names(AUS_state_RN_data[1:1522])
CAN_RN_data$country_id <- 'CAN'
CAN_RN_data$state_id <- 'Ontario'
#CAN_state_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study of Alberta_BC_Quebec_Other_Canada_Panel - 2.sav", to.data.frame=TRUE,use.value.labels=FALSE)
CAN_state_RN_data<- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study of Alberta_BC_Quebec_Other_Canada_Panel - 2.sav", to.data.frame=TRUE,use.value.labels=FALSE)
test <- attr(CAN_state_RN_data$q0001,'value.labels')
CAN_state_RN_data$q0001 <- names(test)[CAN_state_RN_data$q0001]
names(CAN_state_RN_data) <- names(AUS_state_RN_data[1:1522])
CAN_state_RN_data$country_id <- 'CAN'
CAN_state_RN_data$state_id <- CAN_state_RN_data$q0001
CAN_state_RN_data$state_id[which(CAN_state_RN_data$state_id=='Other')] <- 'Other CAN'
#names(CAN_RN_data) <- names(CAN_state_RN_data[-11])
# Dataset omits location
# US_RN_data <- read.spss("C:/Users/cwbishop/Documents/dropbox/Dropbox/Work/UW BandBlab/Studies/eHearing/2018 SPSS datasets/eHearing Study - USA - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
US_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - USA - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
US_RN_data$q0001_new <- NA
US_RN_data <- US_RN_data[,c(1:10,1522,11:1521)]
names(US_RN_data) <- names(CAN_state_RN_data[1:1522])
US_RN_data$country_id <- 'US'
# Dataset omits location
# US_state_RN_data <- read.spss("C:/Users/cwbishop/Documents/dropbox/Dropbox/Work/UW BandBlab/Studies/eHearing/2018 SPSS datasets/eHearing Study - USA WA - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
US_state_RN_data <- read.spss("C:/Users/mkeomec/Dropbox/eHearing manuscript/eHearing Study - USA WA - Panel.sav", to.data.frame=TRUE,use.value.labels=FALSE)
US_state_RN_data$q0001_new <- NA
US_state_RN_data <- US_state_RN_data[,c(1:10,1523,11:1522)]
#q0003  in "USA WA" Research now dataset is are you a current resident of WA. Remove this Question
US_state_RN_data <- US_state_RN_data[-13]
names(US_state_RN_data) <- names(CAN_state_RN_data[1:1522])
US_state_RN_data$country_id <- 'US'
US_state_RN_data$state_id <- 'WA'
all_RN_data <- rbind.fill(UK_RN_data,UK_state_RN_data)
all_RN_data <- rbind.fill(all_RN_data,London_RN_data)
all_RN_data <- rbind.fill(all_RN_data,AUS_RN_data)
all_RN_data <- rbind.fill(all_RN_data,AUS_state_RN_data)
all_RN_data <- rbind.fill(all_RN_data,CAN_RN_data)
all_RN_data <- rbind.fill(all_RN_data,CAN_state_RN_data)
all_RN_data <- rbind.fill(all_RN_data,US_RN_data)
all_RN_data <- rbind.fill(all_RN_data,US_state_RN_data)
#Remove subjects under 60 years old
all_RN_data <- all_RN_data[!(all_RN_data$q0003==1),]
View(all_RN_data)
